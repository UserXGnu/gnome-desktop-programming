\chapter{Essentials}

\begin{itemize}
\item Types within GLib.
\item g\_print(), strdup, utf-8.
\item g\_log, g\_message, g\_debug
\item Essential macros, GINT\_TO\_POINTER and more.
\item Constants, G\_PI, etc
\item GCC macros
\item malloc and free
\item error handling with GError
\item g\_set\_prgname, g\_set\_application\_name
\end{itemize}

\section{Types}

\section{UTF-8}

The GLib APIs assume that strings contain valid UTF-8 unless otherwise noted.
However, there are a few variations of UTF-8.
The version of UTF-8 supported by GLib specifically is \emph{modified} UTF-8.

Modified UTF-8 uses a two bytes variation to support what would normally be a \verb|\0| byte.
This allows for functions like \verb|strlen()| to continue working since neither of the two byte representation are \verb|\0|.

It is required that when reading untrusted input from external sources that you ensure strings are valid UTF-8.
This can be done with the \verb|g_utf8_validate()| function.

\section{Logging}

\section{Environment Variables}
% Special Directories with g_get_home_dir() and others

\section{Constants and Macros}

\section{Endianness}

\section{Memory}
% g_new, malloc, free, etc
% g_slice_new

\section{Quarks}

A \verb|GQuark| is a string that has been \emph{internalized}.
That means the string will exist as long as the process is running.
Each string is given a unique integer that identifies the string.

When working with quarks, you can compare a single integer instead of an entire string to know if they are the same.
Integer comparisons are much faster than comparing an entire string.
For that reason, quarks are used in performance sensitive areas where it is known that the string will be part of the process forever.

Take a look at ~\ref{fig:quarks} for an example mapping of \verb|GQuark| identifiers to strings.

\begin{figure}[h!]
\centering
\begin{tabular}{c | l}
Quark & String \\
\hline
1 & \verb|"name"| \\
2 & \verb|"date"| \\
3 & \verb|"time"| \\
\end{tabular}
\caption{Example GQuark mappings}
\label{fig:quarks}
\end{figure}

\section{Handling Errors}

\section{Command Line Arguments}
